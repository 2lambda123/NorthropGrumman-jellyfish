apply plugin: "com.iadams.sonar-packaging"

dependencies {
   // Do not use the new scopes (api, implementation, etc) here.
   // Use the old compile scope because the sonar-packaging plugin
   // will only embed dependencies that are under the compile scope.
   compile project(':jellyfish')
   compile "com.ngc.seaside:guice.modules:$version"
   compile "com.ngc.seaside:systemdescriptor.model.api:$version"
   compile "com.ngc.seaside:systemdescriptor.service.api:$version"
   compile "com.ngc.seaside:systemdescriptor.service.impl.xtext:$version"

   compile "com.ngc.seaside:systemdescriptor.service.impl.m2repositoryservice:$version"
   compile "com.ngc.blocs:service.api:$blocsVersion"
   compile "com.google.guava:guava:$guavaVersion"
   compile "com.google.inject:guice:$guiceVersion"
   // Make sure this has a scope of provided.
   provided "org.sonarsource.sonarqube:sonar-plugin-api:$sonarqubeVersion"

   testCompile "junit:junit:$junitVersion"
   testCompile "org.mockito:mockito-core:$mockitoVersion"
   // Include the SLF4J logging adapter so we can see logs during test execution.
   testCompile "ch.qos.logback:logback-core:1.1.7"
   testCompile "ch.qos.logback:logback-classic:1.1.7"
}

sonarPackaging {
   pluginKey = 'systemdescriptor'
   pluginName = 'System Descriptor'
   pluginClass = 'com.ngc.seaside.jellyfish.sonarqube.JellyfishPlugin'
   pluginDescription = 'Adds support for scanning System Descriptor projects.'
   pluginUrl = ''
   pluginSourceUrl = 'https://github.ms.northgrum.com/CEACIDE/jellyfish'
}
