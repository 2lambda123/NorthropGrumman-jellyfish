
apply plugin: 'com.ngc.blocs.gradle.plugin.domain'

generateDomain {
   domainGenProperty('template.list', file('src/main/resources/velocity/proto-messages.vm'))
   domainGenProperty('extension.list', 'proto')
}

dependencies {
   compile "com.ngc.blocs:service.api:$blocsDomainVersion"
}

jar {
   manifest {
      attributes('Export-Package': 
         'com.ngc.seaside.threateval.datps.common.datatype.*,' + 
         'com.ngc.seaside.threateval.datps.atype.*')
   }
}

apply plugin: 'com.google.protobuf'

protobuf {
   protoc {
      artifact = "com.google.protobuf:protoc:$protobufVersion"
   }
}

sourceSets {
   main {
     proto {
       srcDir generateDomain.outputDirectory
     }
   }
}

sourceSets.all {
   java.srcDir "${protobuf.generatedFilesBaseDir}/$name/java"
}

dependencies {
   compile "com.google.protobuf:protobuf-java:$protobufVersion"
}
