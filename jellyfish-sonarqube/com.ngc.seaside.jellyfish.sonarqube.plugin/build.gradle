apply plugin: "com.iadams.sonar-packaging"

dependencies {
   // Do not use the new scopes (api, implementation, etc) here.
   // Use the old compile scope because the sonar-packaging plugin
   // we only embed dependencies that are under the compile scope.
   compile "com.ngc.seaside:systemdescriptor.model.api:$version"
   compile "com.ngc.seaside:systemdescriptor.service.api:$version"
   compile "com.ngc.seaside:systemdescriptor.service.impl.xtext:$version"

   compile "com.ngc.seaside:systemdescriptor.service.impl.m2repositoryservice:$version"
   compile "com.ngc.blocs:service.api:$blocsVersion"
   compile "com.google.guava:guava:22.0"
   compile "com.google.inject:guice:4.1.0"
   provided "org.sonarsource.sonarqube:sonar-plugin-api:$sonarqubeVersion"

   testImplementation "junit:junit:$junitVersion"
   testImplementation "org.mockito:mockito-core:$mockitoVersion"
   // Include the SLF4J logging adapter so we can see logs during test execution.
   testImplementation "ch.qos.logback:logback-core:1.1.7"
   testImplementation "ch.qos.logback:logback-classic:1.1.7"
}

sonarPackaging {
   pluginKey = 'systemdescriptor'
   pluginName = 'System Descriptor'
   pluginClass = 'com.ngc.seaside.jellyfish.sonarqube.JellyfishPlugin'
   pluginDescription = 'Adds support for scanning System Descriptor projects.'
   pluginUrl = ''
   pluginSourceUrl = 'https://github.ms.northgrum.com/CEACIDE/jellyfish'
}
